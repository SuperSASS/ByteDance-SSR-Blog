# 0x03 完整 SSR 项目搭建

## 1. 前台页面实现

实现项目规划中对前台页面各功能的界面和逻辑实现。

在 web 中添加 Tailwind CSS，按照官网的教程来。  
然后让 AI 按照规划编写相应组件、布局、页面等 UI 内容。

---

问题 - 服务端 SSR 时缺少 React 包：

之前是在 web 项目里添加`import React from 'react';`，但这样导致每个 web 项目里会用到 React 的地方都要添加。  
于是现在改为在 server 项目里添加引入：写一个`utils/globalReact.ts`引入 React，然后在入口`app.ts`中`import 'globalReact.js';`。

---

问题 - 运行后完全没有 CSS，控制台报错"@vitejs/plugin-react can't detect preamble. Something is wrong."：

解决方案来自[@vitejs/plugin-react](https://www.npmjs.com/package/@vitejs/plugin-react)，其中的"@vitejs/plugin-react/preamble"写到要在 entry-client.tsx 中添加`import '@vitejs/plugin-react/preamble'`。
